---
title: "R Notebook"
output: html_notebook
---

> los datos de altitud de bci estan a 5 x 5 m...

Yes, the elevation data that Stuart gave me is this (original here: https://goo.gl/VvH1yb):

``` r
library(tibble)
bci::bci_elevation
#> # A tibble: 20,301 x 3
#>        x     y   elev
#>    <int> <int>  <dbl>
#>  1     0     0 120.63
#>  2     0     5 120.87
#>  3     0    10 121.12
#>  4     0    15 121.36
#>  5     0    20 121.29
#>  6     0    25 123.45
#>  7     0    30 125.34
#>  8     0    35 126.53
#>  9     0    40 127.20
#> 10     0    45 127.69
#> # ... with 20,291 more rows
```

> ...eso funciona con ttt al usar gridsize = 20??

--gabrielato

Good point. The authors, Kyle Harms and Sabrina Russo, wrote:


> Remember: whatever habitat gridsize you use, gridsize of species’ abundance
(abund) and habitat (myhab) must match.

--vignette [Habitat-species associations with BCI data](https://forestgeo.github.io/ttt/articles/bci.html)



xxxcont. ammend extract_abund, should produce different results with different gridsize

```{r}
library(forestr)
library(ttt)

myplot <- bci::bci12full7

all.equal(
  extract_abund(myplot, gridsize = 5), 
  extract_abund(myplot, gridsize = 20)
)

gridsize_some <- abundanceperquad(myplot, gridsize = 5)
gridsize_another <- abundanceperquad(myplot, gridsize = 20)

```










# Background




# `bci::bci_elevation`

Elevation data provided by 


```
---------- Forwarded message ----------
From: Davies, Stuart J. <DaviesS@si.edu>
Date: Fri, Mar 24, 2017 at 3:28 PM
Subject: Re: Habitat-species associations
To: Mauro Lepore <maurolepore@gmail.com>, "McMahon, Sean" <mcmahons@si.edu>, Gabriel Arellano <gabriel.arellano.torres@gmail.com>


Mauro,
 
BCI elev data attached.  One quick way to make habitats is just divide quadrats into 4 or 5 equal elevation chunks. We often do this for plots where we have no soils data.
 
I’ll see if I can find a soils-based habitat map.
 
Cheers,
 
Stuart
```

Attached was BCI elev.TXT

``` r
head(bci::bci_elevation)
#>   x  y   elev
#> 1 0  0 120.63
#> 2 0  5 120.87
#> 3 0 10 121.12
#> 4 0 15 121.36
#> 5 0 20 121.29
#> 6 0 25 123.45
```


xxxcont. follow up at the end of bci vignette in ttt

