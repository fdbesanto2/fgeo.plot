<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mapping Latest Tree-Status in Subquadrats • map</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">map</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Functions Index</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../articles/index.html">Tutorials</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Apps
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://bookdown.org/forestgeoguest/map_tag_app">Map tree tags for fieldwork</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://github.com/maurolepore">
    <span class="fa fa-gavel"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/forestgeo/map">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://forestgeo.github.io/fgeo/">fgeo</a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Mapping Latest Tree-Status in Subquadrats</h1>
                        <h4 class="author">Mauro Lepore</h4>
            
            <h4 class="date">2018-01-02</h4>
          </div>

    
    
<div class="contents">
<div id="overview" class="section level1">
<h1 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h1>
<p>This tutorial will show you you how to map the latest tree-status in subquadrats with <code><a href="../reference/map_tag.html">map_tag()</a></code>. The fastest way to interact with <code><a href="../reference/map_tag.html">map_tag()</a></code> is via this app : <a href="https://bookdown.org/forestgeoguest/map_tag_app/" class="uri">https://bookdown.org/forestgeoguest/map_tag_app/</a>.</p>
</div>
<div id="motivation" class="section level1">
<h1 class="hasAnchor">
<a href="#motivation" class="anchor"></a>Motivation</h1>
<p>Imagine you need some maps to work in the field at some site. All you need is a ViewFullTable and the function <code><a href="../reference/map_tag.html">map_tag()</a></code>. Here is a glimpse of your data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">glimpse</span>(some_site_vft)
<span class="co">#&gt; Observations: 338</span>
<span class="co">#&gt; Variables: 28</span>
<span class="co">#&gt; $ MeasureID        &lt;int&gt; 2, 3, 4, 8550, 8551, 11681, 11682, 11683, 116...</span>
<span class="co">#&gt; $ PlotID           &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ...</span>
<span class="co">#&gt; $ Plot             &lt;chr&gt; "bci", "bci", "bci", "bci", "bci", "bci", "bc...</span>
<span class="co">#&gt; $ Family           &lt;chr&gt; "Lecythidaceae", "Myristicaceae", "Malvaceae"...</span>
<span class="co">#&gt; $ GenusSpecies     &lt;chr&gt; "Gustavia superba", "Virola surinamensis", "Q...</span>
<span class="co">#&gt; $ Genus            &lt;chr&gt; "Gustavia", "Virola", "Quararibea", "Sapium",...</span>
<span class="co">#&gt; $ SpeciesName      &lt;chr&gt; "superba", "surinamensis", "asterolepis", "gl...</span>
<span class="co">#&gt; $ SubSpeciesName   &lt;chr&gt; "NULL", "NULL", "NULL", "NULL", "NULL", "NULL...</span>
<span class="co">#&gt; $ SpeciesID        &lt;int&gt; 460, 1075, 871, 921, 1022, 540, 1118, 869, 49...</span>
<span class="co">#&gt; $ Mnemonic         &lt;chr&gt; "gustsu", "virosu", "quaras", "sapiau", "trat...</span>
<span class="co">#&gt; $ QuadratID        &lt;int&gt; 1250, 1250, 1250, 1250, 1250, 1250, 1250, 125...</span>
<span class="co">#&gt; $ QuadratName      &lt;chr&gt; "4924", "4924", "4924", "4924", "4924", "4924...</span>
<span class="co">#&gt; $ QX               &lt;dbl&gt; 14.1, 10.5, 13.5, 0.6, 1.9, 4.1, 4.1, 4.5, 2....</span>
<span class="co">#&gt; $ QY               &lt;dbl&gt; 8.3, 8.9, 18.3, 4.9, 2.5, 13.2, 12.2, 18.0, 1...</span>
<span class="co">#&gt; $ gx               &lt;dbl&gt; 994, 990, 994, 981, 982, 984, 984, 984, 982, ...</span>
<span class="co">#&gt; $ gy               &lt;dbl&gt; 488, 489, 498, 485, 482, 493, 492, 498, 495, ...</span>
<span class="co">#&gt; $ TreeID           &lt;int&gt; 19, 21, 23, 10986, 10987, 15681, 15682, 15683...</span>
<span class="co">#&gt; $ Tag              &lt;chr&gt; "000002", "000004", "000006", "014886", "0149...</span>
<span class="co">#&gt; $ StemID           &lt;int&gt; 1, 1, 7, 1, 1, 1, 1, 2, 1, 7, 1, 1, 1, 1, 2, ...</span>
<span class="co">#&gt; $ StemTag          &lt;chr&gt; NA, NA, "NULL", NA, NA, NA, NA, NA, NA, "NULL...</span>
<span class="co">#&gt; $ PrimaryStem      &lt;chr&gt; "main", "main", "main", "main", "main", "main...</span>
<span class="co">#&gt; $ CensusID         &lt;int&gt; 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, ...</span>
<span class="co">#&gt; $ PlotCensusNumber &lt;int&gt; 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, ...</span>
<span class="co">#&gt; $ DBH              &lt;int&gt; 304, 357, 313, 192, 468, 150, 52, NA, 23, NA,...</span>
<span class="co">#&gt; $ HOM              &lt;dbl&gt; 3.0, 1.3, 3.0, 1.3, 1.3, 1.3, 1.3, NA, 1.3, N...</span>
<span class="co">#&gt; $ ExactDate        &lt;date&gt; 2005-10-14, 2005-10-11, 2005-10-14, 2005-10-...</span>
<span class="co">#&gt; $ ListOfTSM        &lt;chr&gt; "B,cylY", "NULL", "B,cylY", "NULL", "NULL", "...</span>
<span class="co">#&gt; $ Status           &lt;chr&gt; "alive", "alive", "alive", "alive", "alive", ...</span></code></pre></div>
<p>First you filter the specific plot you want to produce maps for.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">some_site_vft1 &lt;-<span class="st"> </span><span class="kw">filter</span>(some_site_vft, PlotID <span class="op">==</span><span class="st"> </span><span class="dv">1</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Using a private data set; and using only one quadrat for a small example</span>
maps &lt;-<span class="st"> </span><span class="kw"><a href="../reference/map_tag.html">map_tag</a></span>(some_site_vft1)
<span class="co">#&gt; Warning in do.call(cond, list(customized)): Duplicated values were detected</span>
<span class="co">#&gt; * Likely you should filter only one CensusID and retry.</span></code></pre></div>
<p>Here is the first set of four subquadrats.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">maps[<span class="dv">1</span>]
<span class="co">#&gt; $`4924`</span></code></pre></div>
<p><img src="map_tag_files/figure-html/yose-print-screen-1.png" width="98%" style="display: block; margin: auto;"></p>
<p>You can output a .pdf with <code>pdf()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">pdf</span>(<span class="st">"example-some_site.pdf"</span>, <span class="dt">paper =</span> <span class="st">"a4"</span>)
maps
<span class="co">#&gt; $`4924`</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $&lt;NA&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $&lt;NA&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $&lt;NA&gt;</span>
<span class="kw">dev.off</span>()
<span class="co">#&gt; png </span>
<span class="co">#&gt;   2</span></code></pre></div>
<embed src="example-some_site.pdf" width="98%" style="display: block; margin: auto;" type="application/pdf"></embed><div id="what-does-map_tag-do" class="section level2">
<h2 class="hasAnchor">
<a href="#what-does-map_tag-do" class="anchor"></a>What Does <code><a href="../reference/map_tag.html">map_tag()</a></code> Do?</h2>
<p>Let’s review what has just happened. Although your ViewFullTable may have data of multiple censuses, <code><a href="../reference/map_tag.html">map_tag()</a></code> focuses exclusively on the latest census (via PlotNameCensus). <code><a href="../reference/map_tag.html">map_tag()</a></code> plots not the status of individual stems but the status of a tree. That is, if in the latest census at least one stem of a tree has status “alive”, then <code><a href="../reference/map_tag.html">map_tag()</a></code> plots its status as “alive”; if no stem is “alive”, <code><a href="../reference/map_tag.html">map_tag()</a></code> plots its status as “other”. Why “other” and not “dead”? Because stems are classified not simply as “dead” or “alive”: if it is not “alive”, the value of <code>status</code> may be, for example, “dead” for one stem of a particular tree, and “broken below” for another stem of the same tree. Yet <code>map_tree()</code> is designed to plot only one value of status per individual tag. The solution is to group all values that are not “alive” into the single category “other”.</p>
<p>OK, that was the bad news – <code><a href="../reference/map_tag.html">map_tag()</a></code> won’t let you change the values of the variable <code>status</code>. The good news is that you can change almost anything else. You will learn how to do that in the rest of this tutorial.</p>
</div>
</div>
<div id="preparation-packages-and-data" class="section level1">
<h1 class="hasAnchor">
<a href="#preparation-packages-and-data" class="anchor"></a>Preparation: Packages and Data</h1>
<p>The packages you will use are <strong>map</strong>, <strong>fgeo.utils</strong>, <strong>ggplot2</strong> and <strong>dplyr</strong>. <strong>map</strong> contains the function <code><a href="../reference/map_tag.html">map_tag()</a></code>; <strong>fgeo.utils</strong> contains utility functions; and <strong>ggplot2</strong> and <strong>dplyr</strong> provide powerful tools for vizualizing and wrangling data. (These packages are part of the tidyverse (<a href="https://www.tidyverse.org/" class="uri">https://www.tidyverse.org/</a>) – a collection of R packages designed for data science. All packages share an underlying philosophy and common APIs.)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install_github("forestgeo/map")</span>
<span class="kw">library</span>(map)
<span class="kw">library</span>(fgeo.utils)
<span class="kw">library</span>(dplyr)

<span class="co"># Print only a few rows of data framed to save time and space</span>
<span class="kw">options</span>(<span class="dt">dplyr.print_min =</span> <span class="dv">6</span>, <span class="dt">dplyr.print_max =</span> <span class="dv">6</span>)</code></pre></div>
<p>From now on, The data you will use is an example data set from Barro Colorado Island made public in 2012 (see <a href="https://repository.si.edu/handle/10088/20925" class="uri">https://repository.si.edu/handle/10088/20925</a> and <a href="https://forestgeo.github.io/map/reference/bci12vft_mini.html"><code><a href="http://www.rdocumentation.org/packages/bciex/topics/bci12vft_mini">?bciex::bci12vft_mini</a></code></a>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Subset of a public ViewFullTable from BCI (source:</span>
<span class="co"># https://repository.si.edu/handle/10088/20925).</span>

<span class="co"># Convert to tibble (modern dataframe) for better printing</span>
bci_vft &lt;-<span class="st"> </span><span class="kw">as_tibble</span>(bciex<span class="op">::</span>bci12vft_mini)
<span class="kw">glimpse</span>(bci_vft)
<span class="co">#&gt; Observations: 4,374</span>
<span class="co">#&gt; Variables: 28</span>
<span class="co">#&gt; $ MeasureID        &lt;int&gt; 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 1...</span>
<span class="co">#&gt; $ PlotID           &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, ...</span>
<span class="co">#&gt; $ Plot             &lt;chr&gt; "bci", "bci", "bci", "bci", "bci", "bci", "bc...</span>
<span class="co">#&gt; $ Family           &lt;chr&gt; "Lecythidaceae", "Myristicaceae", "Malvaceae"...</span>
<span class="co">#&gt; $ GenusSpecies     &lt;chr&gt; "Gustavia superba", "Virola surinamensis", "Q...</span>
<span class="co">#&gt; $ Genus            &lt;chr&gt; "Gustavia", "Virola", "Quararibea", "Protium"...</span>
<span class="co">#&gt; $ SpeciesName      &lt;chr&gt; "superba", "surinamensis", "asterolepis", "te...</span>
<span class="co">#&gt; $ SubSpeciesName   &lt;chr&gt; "NULL", "NULL", "NULL", "NULL", "NULL", "NULL...</span>
<span class="co">#&gt; $ SpeciesID        &lt;int&gt; 460, 1075, 871, 828, 108, 828, 871, 871, 1144...</span>
<span class="co">#&gt; $ Mnemonic         &lt;chr&gt; "gustsu", "virosu", "quaras", "protte", "bros...</span>
<span class="co">#&gt; $ QuadratID        &lt;int&gt; 1250, 1250, 1250, 1249, 1249, 1248, 1248, 124...</span>
<span class="co">#&gt; $ QuadratName      &lt;chr&gt; "4924", "4924", "4924", "4923", "4923", "4922...</span>
<span class="co">#&gt; $ x                &lt;dbl&gt; 14.1, 10.5, 13.5, 12.7, 1.9, 3.7, 3.0, 3.0, 1...</span>
<span class="co">#&gt; $ y                &lt;dbl&gt; 8.3, 8.9, 18.3, 9.3, 13.5, 16.5, 12.6, 12.6, ...</span>
<span class="co">#&gt; $ gx               &lt;dbl&gt; 994, 990, 994, 993, 982, 984, 983, 983, 996, ...</span>
<span class="co">#&gt; $ gy               &lt;dbl&gt; 488, 489, 498, 469, 474, 456, 453, 453, 447, ...</span>
<span class="co">#&gt; $ TreeID           &lt;int&gt; 19, 21, 23, 24, 25, 29, 30, 30, 32, 33, 34, 3...</span>
<span class="co">#&gt; $ Tag              &lt;chr&gt; "000002", "000004", "000006", "000007", "0000...</span>
<span class="co">#&gt; $ StemID           &lt;int&gt; 1, 1, 7, 1, 1, 6, 2, 3, 2, 1, 1, 1, 6, 6, 1, ...</span>
<span class="co">#&gt; $ StemTag          &lt;chr&gt; NA, NA, "NULL", NA, NA, "NULL", "NULL", "NULL...</span>
<span class="co">#&gt; $ PrimaryStem      &lt;chr&gt; "main", "main", "main", "main", "main", "main...</span>
<span class="co">#&gt; $ CensusID         &lt;int&gt; 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, ...</span>
<span class="co">#&gt; $ PlotCensusNumber &lt;int&gt; 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, ...</span>
<span class="co">#&gt; $ DBH              &lt;int&gt; 304, 357, 313, 456, 1290, NA, 492, 33, NA, 42...</span>
<span class="co">#&gt; $ HOM              &lt;dbl&gt; 3.00, 1.30, 3.00, 1.30, 5.20, NA, 3.20, 1.30,...</span>
<span class="co">#&gt; $ ExactDate        &lt;date&gt; 2005-10-14, 2005-10-11, 2005-10-14, 2005-10-...</span>
<span class="co">#&gt; $ ListOfTSM        &lt;chr&gt; "B,cylY", "NULL", "B,cylY", "NULL", "B,cylN",...</span>
<span class="co">#&gt; $ Status           &lt;chr&gt; "alive", "alive", "alive", "alive", "alive", ...</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bci_vft1 &lt;-<span class="st"> </span><span class="kw">filter</span>(bci_vft, PlotID <span class="op">==</span><span class="st"> </span><span class="dv">1</span>)</code></pre></div>
<p>Not all data sets may be named appropriately. <code><a href="../reference/map_tag.html">map_tag()</a></code> expects some variables to have specific names. If the name of your variables is different than expected, you’ll get an error.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Fails</span>
<span class="kw"><a href="../reference/map_tag.html">map_tag</a></span>(bci_vft1)
<span class="co">#&gt; Error: Ensure your data set has these variables:</span>
<span class="co">#&gt; tag, qx, qy, status, quadratname, censusid, plotid</span></code></pre></div>
<p>Reading the error message will help you identify which variables you need to rename.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">bci_vft1_rnm &lt;-<span class="st"> </span>dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/select.html">rename</a></span>(bci_vft1, <span class="dt">qx =</span> x, <span class="dt">qy =</span> y)
<span class="co"># Using lowercase names for simiplicity</span>
<span class="kw">names</span>(bci_vft1_rnm) &lt;-<span class="st"> </span><span class="kw">tolower</span>(<span class="kw">names</span>(bci_vft1_rnm))</code></pre></div>
<p>With the techniques you’ll learn here, you can produce maps of an entire data set, or of just a few quadrats. To save space, let’s focus just on (any) one quadrat.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">any_quadrat &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">unique</span>(bci_vft1_rnm<span class="op">$</span>quadratname), <span class="dv">1</span>)
<span class="kw">filter</span>(bci_vft1_rnm, quadratname <span class="op">==</span><span class="st"> </span>any_quadrat)
<span class="co">#&gt; # A tibble: 381 x 28</span>
<span class="co">#&gt;   measureid plotid  plot                  family          genusspecies</span>
<span class="co">#&gt;       &lt;int&gt;  &lt;int&gt; &lt;chr&gt;                   &lt;chr&gt;                 &lt;chr&gt;</span>
<span class="co">#&gt; 1         5      1   bci             Burseraceae   Protium tenuifolium</span>
<span class="co">#&gt; 2         6      1   bci                Moraceae   Brosimum alicastrum</span>
<span class="co">#&gt; 3      8406      1   bci Fabaceae-papilionoideae      Swartzia simplex</span>
<span class="co">#&gt; 4      8407      1   bci               Meliaceae Trichilia tuberculata</span>
<span class="co">#&gt; 5     11703      1   bci            Boraginaceae     Cordia lasiocalyx</span>
<span class="co">#&gt; 6     11704      1   bci            Boraginaceae     Cordia lasiocalyx</span>
<span class="co">#&gt; # ... with 375 more rows, and 23 more variables: genus &lt;chr&gt;,</span>
<span class="co">#&gt; #   speciesname &lt;chr&gt;, subspeciesname &lt;chr&gt;, speciesid &lt;int&gt;,</span>
<span class="co">#&gt; #   mnemonic &lt;chr&gt;, quadratid &lt;int&gt;, quadratname &lt;chr&gt;, qx &lt;dbl&gt;,</span>
<span class="co">#&gt; #   qy &lt;dbl&gt;, gx &lt;dbl&gt;, gy &lt;dbl&gt;, treeid &lt;int&gt;, tag &lt;chr&gt;, stemid &lt;int&gt;,</span>
<span class="co">#&gt; #   stemtag &lt;chr&gt;, primarystem &lt;chr&gt;, censusid &lt;int&gt;,</span>
<span class="co">#&gt; #   plotcensusnumber &lt;int&gt;, dbh &lt;int&gt;, hom &lt;dbl&gt;, exactdate &lt;date&gt;,</span>
<span class="co">#&gt; #   listoftsm &lt;chr&gt;, status &lt;chr&gt;</span></code></pre></div>
</div>
<div id="customizing-your-maps" class="section level1">
<h1 class="hasAnchor">
<a href="#customizing-your-maps" class="anchor"></a>Customizing Your Maps</h1>
<p>This section shows how you can change the default of your maps (see also <code>?map_tag()</code>). For example, you can customize the plot title, and the points and tags.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">maps &lt;-<span class="st"> </span><span class="kw"><a href="../reference/map_tag.html">map_tag</a></span>(bci_vft1_rnm, 
  <span class="dt">title_quad =</span> <span class="st">"BCI 2012"</span>, <span class="dt">point_size =</span> <span class="dv">3</span>, <span class="dt">point_shape =</span> <span class="kw">c</span>(<span class="dv">17</span>, <span class="dv">6</span>), <span class="dt">tag_size =</span> <span class="dv">5</span>
)
<span class="co">#&gt; Warning in do.call(cond, list(customized)): Duplicated values were detected</span>
<span class="co">#&gt; * Likely you should filter only one CensusID and retry.</span>
maps[<span class="dv">1</span>]
<span class="co">#&gt; $`4915`</span></code></pre></div>
<p><img src="map_tag_files/figure-html/custom-title-point-shape-1.png" width="98%" style="display: block; margin: auto;"></p>
<div id="customizing-the-header" class="section level2">
<h2 class="hasAnchor">
<a href="#customizing-the-header" class="anchor"></a>Customizing The Header</h2>
<p>The header can be customized in two ways. One ways it to pass a string to the argument <code>header</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/map_tag.html">map_tag</a></span>(bci_vft1_rnm, <span class="dt">title_quad =</span> <span class="st">"BCI 2012"</span>, <span class="dt">header =</span> <span class="st">"My header"</span>)[<span class="dv">1</span>]
<span class="co">#&gt; Warning in do.call(cond, list(customized)): Duplicated values were detected</span>
<span class="co">#&gt; * Likely you should filter only one CensusID and retry.</span>
<span class="co">#&gt; $`4915`</span></code></pre></div>
<p><img src="map_tag_files/figure-html/custom-header-1.png" width="98%" style="display: block; margin: auto;"></p>
<p>The string can be multi-lined; to insert line brakes, use “\n”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/map_tag.html">map_tag</a></span>(bci_vft1_rnm, <span class="dt">title_quad =</span> <span class="st">"BCI 2012"</span>, 
  <span class="dt">header =</span> <span class="st">"Line 1: _________</span><span class="ch">\n</span><span class="st">Line 2:</span><span class="ch">\n</span><span class="st">Line 3:....................."</span>
)[<span class="dv">1</span>]
<span class="co">#&gt; Warning in do.call(cond, list(customized)): Duplicated values were detected</span>
<span class="co">#&gt; * Likely you should filter only one CensusID and retry.</span>
<span class="co">#&gt; $`4915`</span></code></pre></div>
<p><img src="map_tag_files/figure-html/header-basic-1.png" width="98%" style="display: block; margin: auto;"></p>
<p>The second way is to use <code><a href="../reference/headers.html">map_tag_header()</a></code> (see <code>?map_tag_header()</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/map_tag.html">map_tag</a></span>(bci_vft1_rnm, <span class="dt">title_quad =</span> <span class="st">"BCI 2012"</span>, <span class="dt">header =</span> <span class="kw"><a href="../reference/headers.html">map_tag_header</a></span>())[<span class="dv">1</span>]
<span class="co">#&gt; Warning in do.call(cond, list(customized)): Duplicated values were detected</span>
<span class="co">#&gt; * Likely you should filter only one CensusID and retry.</span>
<span class="co">#&gt; $`4915`</span></code></pre></div>
<p><img src="map_tag_files/figure-html/header-via-helper-1.png" width="98%" style="display: block; margin: auto;"></p>
</div>
<div id="using-pre-made-and-custom-themes" class="section level2">
<h2 class="hasAnchor">
<a href="#using-pre-made-and-custom-themes" class="anchor"></a>Using Pre-Made and Custom Themes</h2>
<p>Similarly to how you customized the header, you can also customize the plot theme. By default, <code>theme = theme_map_quad()</code> (see <code>?theme_map_quad()</code>); but you can either use any pre-made theme (see <code><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggtheme">?ggplot2::theme_bw</a></code>) or adapt teak the defaults of <code><a href="../reference/themes.html">theme_map_quad()</a></code>.</p>
<p>This is how you can use a pre-made theme.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)

<span class="co"># Using a pre-made theme from ggplot2</span>
<span class="kw"><a href="../reference/map_tag.html">map_tag</a></span>(bci_vft1_rnm, <span class="dt">title_quad =</span> <span class="st">"BCI 2012"</span>, <span class="dt">theme =</span> <span class="kw">theme_gray</span>())[<span class="dv">1</span>]
<span class="co">#&gt; Warning in do.call(cond, list(customized)): Duplicated values were detected</span>
<span class="co">#&gt; * Likely you should filter only one CensusID and retry.</span>
<span class="co">#&gt; $`4915`</span></code></pre></div>
<p><img src="map_tag_files/figure-html/pre-made-theme-1.png" width="98%" style="display: block; margin: auto;"></p>
<p>And this is how you can use a custom theme (see <code>?ggplot2::theme()</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Customizing the default theme of map_tag()</span>
theme_small_change &lt;-<span class="st"> </span><span class="kw"><a href="../reference/themes.html">theme_map_tag</a></span>(<span class="dt">legend.position =</span> <span class="st">"bottom"</span>)
<span class="kw"><a href="../reference/map_tag.html">map_tag</a></span>(bci_vft1_rnm, <span class="dt">title_quad =</span> <span class="st">"BCI 2012"</span>, <span class="dt">theme =</span> theme_small_change)[<span class="dv">1</span>]
<span class="co">#&gt; Warning in do.call(cond, list(customized)): Duplicated values were detected</span>
<span class="co">#&gt; * Likely you should filter only one CensusID and retry.</span>
<span class="co">#&gt; $`4915`</span>

<span class="co"># Customizing the default theme extreemely, to show flexibility</span>
theme_extreeme_change &lt;-<span class="st"> </span>ggplot2<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/theme">theme</a></span>(
  <span class="dt">legend.position =</span> <span class="st">"bottom"</span>,
  <span class="dt">legend.title =</span> <span class="kw">element_blank</span>(),
  <span class="dt">legend.text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">8</span>, <span class="dt">colour =</span> <span class="st">"red"</span>),
  <span class="dt">text =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">11</span>, <span class="dt">face =</span> <span class="st">"bold.italic"</span>, <span class="dt">colour =</span> <span class="st">"white"</span>),
  <span class="dt">plot.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">"black"</span>),
  <span class="dt">plot.margin =</span> <span class="kw">margin</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="st">"cm"</span>),
  <span class="dt">strip.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">"darkgreen"</span>),
  <span class="dt">strip.text =</span> <span class="kw">element_text</span>(<span class="dt">colour =</span> <span class="st">"white"</span>),
  <span class="co"># make grid to dissapear by matching background colour</span>
  <span class="dt">panel.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">"lightgreen"</span>),
  <span class="dt">panel.grid.minor =</span> <span class="kw">element_line</span>(<span class="dt">colour =</span> <span class="st">"black"</span>, <span class="dt">linetype =</span> <span class="st">"dotted"</span>),
  <span class="dt">panel.grid.major =</span> <span class="kw">element_line</span>(<span class="dt">colour =</span> <span class="st">"black"</span>)
)
<span class="kw"><a href="../reference/map_tag.html">map_tag</a></span>(bci_vft1_rnm, <span class="dt">title_quad =</span> <span class="st">"BCI 2012"</span>, <span class="dt">theme =</span> theme_extreeme_change)[<span class="dv">1</span>]
<span class="co">#&gt; Warning in do.call(cond, list(customized)): Duplicated values were detected</span>
<span class="co">#&gt; * Likely you should filter only one CensusID and retry.</span>
<span class="co">#&gt; $`4915`</span></code></pre></div>
<p><img src="map_tag_files/figure-html/custom-theme-1.png" width="98%" style="display: block; margin: auto;"><img src="map_tag_files/figure-html/custom-theme-2.png" width="98%" style="display: block; margin: auto;"></p>
</div>
<div id="extending-the-grid-beyond-the-plot-limits" class="section level2">
<h2 class="hasAnchor">
<a href="#extending-the-grid-beyond-the-plot-limits" class="anchor"></a>Extending The Grid Beyond the Plot Limits</h2>
<p>Although they shouldn’t, trees sometimes are located beyond the limits of a quadrat. For example, if the side of your quadrats is 20 meters, some trees may plot at, say, <code>qx = 20.5</code>, or <code>qy = 21</code>. In such cases you may want to extend the plot grid to encompass those odd trees. To extend the grid use the argument <code>shrink</code>. (The example below has no trees beyond the quadrat limits, but hopefully you’ll still understand when to use <code>move_edge</code>.)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/map_tag.html">map_tag</a></span>(bci_vft1_rnm, <span class="dt">title_quad =</span> <span class="st">"BCI 2012"</span>, <span class="dt">move_edge =</span> <span class="fl">0.4</span>)[<span class="dv">4</span>]
<span class="co">#&gt; Warning in do.call(cond, list(customized)): Duplicated values were detected</span>
<span class="co">#&gt; * Likely you should filter only one CensusID and retry.</span>
<span class="co">#&gt; $`4918`</span></code></pre></div>
<p><img src="map_tag_files/figure-html/unnamed-chunk-6-1.png" width="98%" style="display: block; margin: auto;"></p>
</div>
<div id="customizing-the-dimension-of-quadrats-and-subquadrats" class="section level2">
<h2 class="hasAnchor">
<a href="#customizing-the-dimension-of-quadrats-and-subquadrats" class="anchor"></a>Customizing the Dimension of Quadrats and Subquadrats</h2>
<p>You can customize the dimension of your quadrats and subquadrats to fit the range of <code>qx</code> and <code>qy</code> of your data. Let’s examine what the range is for the data you have been using so far.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">qx_and_qy_variables &lt;-<span class="st"> </span><span class="kw">select</span>(bci_vft1_rnm, qx, qy)
<span class="kw">lapply</span>(qx_and_qy_variables, range)
<span class="co">#&gt; $qx</span>
<span class="co">#&gt; [1]  0.0 19.9</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $qy</span>
<span class="co">#&gt; [1]  0.0 19.9</span></code></pre></div>
<p>The range is between around 0 and 20. That is why we have been using using the default quadrat dimension of 20 meters (<code>x_q = 20</code>; and <code>y_sq = x_q = 20</code>), and the default subquadrat dimension of 5 meters (<code>x_sq = 5</code>; and <code>y_sq = x_sq = 5</code>).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/map_tag.html">map_tag</a></span>(bci_vft1_rnm, <span class="dt">title_quad =</span> <span class="st">"BCI 2012"</span>, 
  <span class="dt">x_q =</span> <span class="dv">20</span>, <span class="dt">x_sq =</span> <span class="dv">5</span>,
  <span class="dt">y_q =</span> <span class="dv">20</span>, <span class="dt">y_sq =</span> <span class="dv">5</span>
)[<span class="dv">1</span>]
<span class="co">#&gt; Warning in do.call(cond, list(customized)): Duplicated values were detected</span>
<span class="co">#&gt; * Likely you should filter only one CensusID and retry.</span>
<span class="co">#&gt; $`4915`</span></code></pre></div>
<p><img src="map_tag_files/figure-html/unnamed-chunk-8-1.png" width="98%" style="display: block; margin: auto;"></p>
<p>By default, <code>y_q</code> will be the same as <code>x_q</code> – so you don’t have to provide both (only <code>x_q</code> is mandatory). And the same is true for <code>y_sq</code> and <code>x_sq</code>. With this data – with <code>qx</code> and <code>qy</code> ranging 0-20 meters – the quadrat and subquadrat dimensions used above are the right ones. But <code><a href="../reference/map_tag.html">map_tag()</a></code> won’t complain if you choose different parameters; so you have to be careful not to shoot yourself on the foot.</p>
<p>The following two examples demonstrate the use wrong dimensions. Let’s first use dimensions that are smaller than the range of <code>qx</code> and <code>qy</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/map_tag.html">map_tag</a></span>(bci_vft1_rnm, 
  <span class="dt">title_quad =</span> <span class="st">"BCI 2012"</span>, <span class="dt">x_q =</span> <span class="dv">10</span>, <span class="dt">x_sq =</span> <span class="fl">2.5</span>, 
  <span class="co"># if not extended, the lines surrounding the map won't plot</span>
  <span class="dt">move_edge =</span> <span class="fl">0.25</span>
)[<span class="dv">1</span>]
<span class="co">#&gt; Warning in do.call(cond, list(customized)): Duplicated values were detected</span>
<span class="co">#&gt; * Likely you should filter only one CensusID and retry.</span>
<span class="co">#&gt; $`4915`</span></code></pre></div>
<p><img src="map_tag_files/figure-html/unnamed-chunk-9-1.png" width="98%" style="display: block; margin: auto;"></p>
<p>And now let’s use dimensions that are larger than the range of the data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Using </span>
<span class="kw"><a href="../reference/map_tag.html">map_tag</a></span>(bci_vft1_rnm, 
  <span class="dt">title_quad =</span> <span class="st">"BCI 2012"</span>, <span class="dt">x_q =</span> <span class="dv">100</span>, <span class="dt">x_sq =</span> <span class="dv">25</span>, 
)[<span class="dv">1</span>]
<span class="co">#&gt; Warning in do.call(cond, list(customized)): Duplicated values were detected</span>
<span class="co">#&gt; * Likely you should filter only one CensusID and retry.</span>
<span class="co">#&gt; $`4915`</span></code></pre></div>
<p><img src="map_tag_files/figure-html/unnamed-chunk-10-1.png" width="98%" style="display: block; margin: auto;"></p>
<p>This image should flag that you have this kind of problem – by which the range of data is smaller than the dimensions you set for your quadrat and subquadrat. Notice that the points (the actual positions of the trees) are all between <code>qx</code> and <code>qy</code> ranging 0-20. The tags, however, go beyond 20 because they automatically repel themselves to avoid overlapping.</p>
</div>
<div id="the-right-dimensions-for-the-right-data" class="section level2">
<h2 class="hasAnchor">
<a href="#the-right-dimensions-for-the-right-data" class="anchor"></a>The Right Dimensions for the Right Data</h2>
<p>Had <code>qx</code> and <code>qy</code> of your data ranged 0-100, then yes – the appropriate quadrat and subquadrat dimensions to use would be 100 and 25.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Creating new data set with qx and qy ranging 0-100</span>
bigger &lt;-<span class="st"> </span>bci_vft1_rnm
n &lt;-<span class="st"> </span><span class="kw">nrow</span>(bigger)
bigger<span class="op">$</span>qx &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">100</span>, n, <span class="dt">replace =</span> <span class="ot">TRUE</span>)
bigger<span class="op">$</span>qy &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">100</span>, n, <span class="dt">replace =</span> <span class="ot">TRUE</span>)

<span class="kw"><a href="../reference/map_tag.html">map_tag</a></span>(
  bigger, 
  <span class="dt">x_q =</span> <span class="dv">100</span>, <span class="dt">x_sq =</span> <span class="dv">25</span>, 
  <span class="dt">move_edge =</span> <span class="op">-</span><span class="fl">1.75</span>
)[<span class="dv">1</span>]
<span class="co">#&gt; Warning in do.call(cond, list(customized)): Duplicated values were detected</span>
<span class="co">#&gt; * Likely you should filter only one CensusID and retry.</span>
<span class="co">#&gt; $`4915`</span></code></pre></div>
<p><img src="map_tag_files/figure-html/bigger-1.png" width="98%" style="display: block; margin: auto;"></p>
<p>And if <code>qx</code> and <code>qy</code> of your data range 0-10, then the appropriate quadrat dimension to use would be 10 and 2.5.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Creating new data set with qx and qy ranging 0-100</span>
smaller &lt;-<span class="st"> </span>bci_vft1_rnm
n &lt;-<span class="st"> </span><span class="kw">nrow</span>(smaller)
smaller<span class="op">$</span>qx &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">10</span>, n, <span class="dt">replace =</span> <span class="ot">TRUE</span>)
smaller<span class="op">$</span>qy &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">10</span>, n, <span class="dt">replace =</span> <span class="ot">TRUE</span>)

<span class="kw"><a href="../reference/map_tag.html">map_tag</a></span>(smaller, <span class="dt">x_q =</span> <span class="dv">10</span>, <span class="dt">x_sq =</span> <span class="fl">2.5</span>, <span class="dt">move_edge =</span> <span class="fl">0.25</span>)[<span class="dv">1</span>]
<span class="co">#&gt; Warning in do.call(cond, list(customized)): Duplicated values were detected</span>
<span class="co">#&gt; * Likely you should filter only one CensusID and retry.</span>
<span class="co">#&gt; $`4915`</span></code></pre></div>
<p><img src="map_tag_files/figure-html/smaller-1.png" width="98%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="calling-fgeo-utilsadd_subquad-directly" class="section level1">
<h1 class="hasAnchor">
<a href="#calling-fgeo-utilsadd_subquad-directly" class="anchor"></a>Calling <code><a href="http://www.rdocumentation.org/packages/fgeo.utils/topics/add_subquad">fgeo.utils::add_subquad()</a></code> Directly</h1>
<p>If you want to only calculate the variable <code>subquadrat</code>, you don’t need to use <code><a href="../reference/map_tag.html">map_tag()</a></code> – can directly call <code><a href="http://www.rdocumentation.org/packages/fgeo.utils/topics/add_subquad">fgeo.utils::add_subquad()</a></code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">with_subquadrat &lt;-<span class="st"> </span>fgeo.utils<span class="op">::</span><span class="kw">add_subquad</span>(bci_vft1_rnm, <span class="dt">x_q =</span> <span class="dv">20</span>, <span class="dt">x_sq =</span> <span class="dv">5</span>)
<span class="kw">select</span>(
  with_subquadrat, 
  <span class="co"># reorder variables to show first what's new </span>
  subquadrat, qx, qy, <span class="kw">everything</span>()
)
<span class="co">#&gt; # A tibble: 4,374 x 29</span>
<span class="co">#&gt;   subquadrat    qx    qy measureid plotid  plot        family</span>
<span class="co">#&gt;        &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;     &lt;int&gt;  &lt;int&gt; &lt;chr&gt;         &lt;chr&gt;</span>
<span class="co">#&gt; 1         32  14.1   8.3         2      1   bci Lecythidaceae</span>
<span class="co">#&gt; 2         32  10.5   8.9         3      1   bci Myristicaceae</span>
<span class="co">#&gt; 3         34  13.5  18.3         4      1   bci     Malvaceae</span>
<span class="co">#&gt; 4         32  12.7   9.3         5      1   bci   Burseraceae</span>
<span class="co">#&gt; 5         13   1.9  13.5         6      1   bci      Moraceae</span>
<span class="co">#&gt; 6         14   3.7  16.5         7      1   bci   Burseraceae</span>
<span class="co">#&gt; # ... with 4,368 more rows, and 22 more variables: genusspecies &lt;chr&gt;,</span>
<span class="co">#&gt; #   genus &lt;chr&gt;, speciesname &lt;chr&gt;, subspeciesname &lt;chr&gt;, speciesid &lt;int&gt;,</span>
<span class="co">#&gt; #   mnemonic &lt;chr&gt;, quadratid &lt;int&gt;, quadratname &lt;chr&gt;, gx &lt;dbl&gt;,</span>
<span class="co">#&gt; #   gy &lt;dbl&gt;, treeid &lt;int&gt;, tag &lt;chr&gt;, stemid &lt;int&gt;, stemtag &lt;chr&gt;,</span>
<span class="co">#&gt; #   primarystem &lt;chr&gt;, censusid &lt;int&gt;, plotcensusnumber &lt;int&gt;, dbh &lt;int&gt;,</span>
<span class="co">#&gt; #   hom &lt;dbl&gt;, exactdate &lt;date&gt;, listoftsm &lt;chr&gt;, status &lt;chr&gt;</span></code></pre></div>
<p>But if you don’t mind going through a little more trouble, you can also get the <code>subquadrat</code> variable from the data the underlies the maps.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">maps &lt;-<span class="st"> </span><span class="kw"><a href="../reference/map_tag.html">map_tag</a></span>(bci_vft1_rnm, <span class="dt">x_q =</span> <span class="dv">20</span>, <span class="dt">x_sq =</span> <span class="dv">5</span>)
<span class="co">#&gt; Warning in do.call(cond, list(customized)): Duplicated values were detected</span>
<span class="co">#&gt; * Likely you should filter only one CensusID and retry.</span>
data_list &lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/purrr/topics/map">map</a></span>(maps, <span class="st">"data"</span>)
data_combined &lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/purrr/topics/reduce">reduce</a></span>(data_list, rbind)
<span class="kw">select</span>(
  data_combined,
  subquadrat, qx, qy, <span class="kw">everything</span>()
)
<span class="co">#&gt; # A tibble: 3,831 x 15</span>
<span class="co">#&gt;   subquadrat    qx    qy    tag status quadratname censusid plotid</span>
<span class="co">#&gt;        &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;chr&gt;  &lt;chr&gt;       &lt;chr&gt;    &lt;int&gt;  &lt;int&gt;</span>
<span class="co">#&gt; 1         11   2.7   1.7 124872  alive        4915        6      1</span>
<span class="co">#&gt; 2         11   0.9   0.2 127645  alive        4915        6      1</span>
<span class="co">#&gt; 3         11   1.1   0.3 127646  alive        4915        6      1</span>
<span class="co">#&gt; 4         11   2.8   1.5 127647  alive        4915        6      1</span>
<span class="co">#&gt; 5         11   4.3   0.2 127649  alive        4915        6      1</span>
<span class="co">#&gt; 6         11   4.9   0.7 127651  alive        4915        6      1</span>
<span class="co">#&gt; # ... with 3,825 more rows, and 7 more variables: status_tree &lt;chr&gt;,</span>
<span class="co">#&gt; #   page &lt;dbl&gt;, x1 &lt;dbl&gt;, x2 &lt;dbl&gt;, y1 &lt;dbl&gt;, y2 &lt;dbl&gt;, split &lt;chr&gt;</span></code></pre></div>
</div>
<div id="acknowledgements" class="section level1">
<h1 class="hasAnchor">
<a href="#acknowledgements" class="anchor"></a>Acknowledgements</h1>
<p>I thank for ideas and guidance to Suzanne Lao, Stuart Davis, Shameema Jafferjee Esufa, David Kenfack and Anudeep Singh. Andudeep also wrote the algorithm of <code><a href="http://www.rdocumentation.org/packages/fgeo.utils/topics/add_subquad">fgeo.utils::add_subquad()</a></code> (which I translated from SQL to R).</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#overview">Overview</a></li>
      <li>
<a href="#motivation">Motivation</a><ul class="nav nav-pills nav-stacked">
<li><a href="#what-does-map_tag-do">What Does <code><a href="--/reference/map_tag-html">map_tag()</a></code> Do?</a></li>
      </ul>
</li>
      <li><a href="#preparation-packages-and-data">Preparation: Packages and Data</a></li>
      <li>
<a href="#customizing-your-maps">Customizing Your Maps</a><ul class="nav nav-pills nav-stacked">
<li><a href="#customizing-the-header">Customizing The Header</a></li>
      <li><a href="#using-pre-made-and-custom-themes">Using Pre-Made and Custom Themes</a></li>
      <li><a href="#extending-the-grid-beyond-the-plot-limits">Extending The Grid Beyond the Plot Limits</a></li>
      <li><a href="#customizing-the-dimension-of-quadrats-and-subquadrats">Customizing the Dimension of Quadrats and Subquadrats</a></li>
      <li><a href="#the-right-dimensions-for-the-right-data">The Right Dimensions for the Right Data</a></li>
      </ul>
</li>
      <li><a href="#calling-fgeo-utilsadd_subquad-directly">Calling <code><a href="http://www-rdocumentation-org/packages/fgeo-utils/topics/add_subquad">fgeo.utils::add_subquad()</a></code> Directly</a></li>
      <li><a href="#acknowledgements">Acknowledgements</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/maurolepore">Mauro Lepore</a>, <a href="http://www.forestgeo.si.edu/">CTFS-ForestGEO</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
