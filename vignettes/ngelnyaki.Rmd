---
title: "Plot Repulsive Tags from Ngel Nyaki"
author: "Mauro Lepore"
date: "2017-09-26"
output:
  rmarkdown::html_vignette:
    toc: true
    toc_depth: 6
vignette: >
  %\VignetteIndexEntry{Plot Repulsive Tags from Ngel Nyaki}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, echo = FALSE, message=FALSE, warning=FALSE}
# hadley's settings
set.seed(1014)
options(digits = 3)

knitr::opts_chunk$set(
  echo = TRUE,  # {mine}
  comment = "#>",
  collapse = TRUE,
  # cache = TRUE,
  out.width = "70%",
  fig.align = "center",
  fig.width = 6,
  fig.asp = 0.618,  # 1 / phi
  fig.show = "hold",
  rows.print = 3  # {mine}
)

```

```{r}
library(try)
library(tidyverse)
options(dplyr.print_min = 3, dplyr.print_max = 3)
```

The goal of this vignette is to map stems from a ViewFullTable from the Ngel Nyaki site.

It adapts previous code that is a little ackward. I aim to first get the job done ASAP adapting the data to the code; but then refactor to adapt the code to the data. Mapping from ViewFullTables seems a common task so the ultimate goal is to develop code that is general enough to map any site from ViewFullTables, and maybe generalize it even further to work with ForestGEO tables too.

```{r import-data}
vftbl <- ngelnyaki::ngelnyaki_vft_unid
vftbl
```

Add subquadrat based on Anudeep's code.

```{r}
with_subquadrat <- add_subquadrat(
  df = vftbl, dim_x = 20, dim_y = 20, divide_x = 5, divide_y = 5
)
with_subquadrat %>% select(subquadrat, everything())
```







## Prepare and plot




Print plot

```{r plot}
# Avoid running unintentionally; it takes a few minutes to run
pdf("Ngel_Nyaki.pdf", paper = "letter", width = 11, height = 11)
plot_list
dev.off()
```


```{r, message=FALSE}
unique_tags_df <- unique_tags %>% reduce(rbind)
unique_tags_df
```



